<form>
  <div class="form-group form-inline">
    Full text search: <input class="form-control ml-2" type="text" [formControl]="filter" />
  </div>
</form>

<table class="table table-striped">
  <thead>
    <tr>
      <!-- <th scope="col">#</th> -->
      <th scope="col">ID</th>
      <th scope="col">Survey name</th>
      <th scope="col">Survey Description</th>
      <th scope="col">Start Date</th>
      <th scope="col">Start End</th>
      <th scope="col">Created At</th>
      <th scope="col">Updated At</th>
      <th scope="col">Update By</th>
      <th scope="col">Status</th>
      <th scope="col">Actions</th>

    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let country of countries$">
      <!-- <th scope="row">{{ i + 1 }}</th> -->
      <td>
        <ngb-highlight [result]="country.id" [term]="filter.value"></ngb-highlight>
      </td>
      <td>
        <ngb-highlight [result]="country.survey_name" [term]="filter.value"></ngb-highlight>
      </td>
      <td>
        <ngb-highlight [result]="country.survey_desc " [term]="filter.value"></ngb-highlight>
      </td>
      <td>
        <ngb-highlight [result]="country.start_date " [term]="filter.value"></ngb-highlight>
      </td>
      <td>
        <ngb-highlight [result]="country.start_end " [term]="filter.value"></ngb-highlight>
      </td>
      <td>
        <ngb-highlight [result]="country.createdAt " [term]="filter.value"></ngb-highlight>
      </td>
      <td>
        <ngb-highlight [result]="country.updatedat" [term]="filter.value"></ngb-highlight>
      </td>
      <td>
        <ngb-highlight [result]="country.updatedBy" [term]="filter.value"></ngb-highlight>
      </td>
      <td>
        <!-- <ngb-highlight [result]="country.status " [term]="filter.value"></ngb-highlight> -->
        <div class="btn-group" ngbDropdown role="group" aria-label="Button group with nested dropdown">
          <button class="btn btn-outline-success" ngbDropdownToggle>{{surveystatus(country.status)}}</button>
          <div class="dropdown-menu" ngbDropdownMenu>
            <button ngbDropdownItem (click)="setStatus(1,country.id)">InProgress</button>
            <button ngbDropdownItem (click)="setStatus(2,country.id)">Live</button>
            <button ngbDropdownItem (click)="setStatus(3,country.id)">Closed</button>
          </div>
        </div>
      </td>
      <td>
        <button class="btn btn-outline-success mr-2" (click)="editForm(country.id)">Edit</button>


        <div class="upload-btn-wrapper">
          <button class="btn">Generate Links</button>
          <input name="myfile"  type="file" id="xtFileUpload" (change)="fileChangeListener($event,country.id)"   accept=".csv"/>
        </div>
        <!-- <button class="btn btn-outline-danger mr-2" (click)="openFile(country.id)">Generate Links
        <input type="file"  name="File Upload" id="xtFileUpload" (change)="fileChangeListener($event)" style="display: none;"
          accept=".csv" />
        </button> -->


      </td>


    </tr>
  </tbody>
</table>
