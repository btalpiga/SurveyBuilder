<!-- <!DOCTYPE html>
<html> -->
  <!-- <head>
    <title>Summary Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      rel="stylesheet"
      type="text/css"
      href="../../../packages/survey.analytics.css"
    />

    <script src="https://cdn.rawgit.com/inexorabletash/polyfill/master/typedarray.js"></script>

    <script src="https://polyfill.io/v3/polyfill.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>

    <link
      rel="stylesheet"
      type="text/css"
      href="https://unpkg.com/c3@0.7.1/c3.css"
    />

    <script src="https://unpkg.com/d3@5.9.2/dist/d3.min.js"></script>
    <script src="https://unpkg.com/c3@0.7.1/c3.js"></script>

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <script src="https://unpkg.com/wordcloud@1.1.0/src/wordcloud2.js"></script>

    <script src="../../../packages/survey.analytics.js"></script>
  </head> -->

  <!-- <body>
    <style>
      #summaryContainer > .sva-question:nth-child(2) {
        width: 100%;
      }
    </style>

    <!-- <div id="summaryContainer"></div>
    <script src="./data.js"></script>
    <script src="./summary.js"></script> -->
    
  <!-- </body> -->
<!-- </html> -->


<!-- ===================================== -->


<div class="container-fluid">
    <div class="row">
       
      <main role="main" class="col-md-11 ml-sm-auto col-lg-11 px-1">
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">Dashboard</h1>
          <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group mr-2">
              <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
              <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
            </div>
            <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle">
              <span data-feather="calendar"></span>
              This week
            </button>
          </div>
        </div>
  
        <div class="card-deck">
            <div class="card">
              <!-- <img src="..." class="card-img-top" alt="..."> -->
              <div class="card-body">
                <h5 class="card-title">Cati clienti au accesat link-ul?</h5>
                <app-donut-chart #ordersByStatusChart [data]="chartData"></app-donut-chart>
<!-- ===== -->
<!-- <div id="ordersByStatusTable">
  <table mat-table [dataSource]="chartData" *ngIf="orderStates" class="mat-elevation-z8">
      <ng-container matColumnDef="legend">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let element" [ngClass]="element.state">&#9632;</td>
      </ng-container>
      <ng-container matColumnDef="orderStatus">
          <th mat-header-cell *matHeaderCellDef>Order Status</th>
          <td mat-cell *matCellDef="let element">{{element.stateDisplayValue}}</td>
      </ng-container>
      <ng-container matColumnDef="total">
          <th mat-header-cell *matHeaderCellDef>Total</th>
          <td mat-cell *matCellDef="let element">{{element.count}}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="table-row"></tr>
  </table>
</div> -->
<!-- ======= -->




              </div>
              <div class="card-footer">
                <small class="text-muted">Last updated {{reportUpdated}} ago</small>
              </div>
            </div>
            <div class="card">
              <!-- <img src="..." class="card-img-top" alt="..."> -->
              <div class="card-body">
                <h5 class="card-title">Card title</h5>
                <!-- <p class="card-text">This card has supporting text below as a natural lead-in to additional content.</p> -->
                <div id="surveyResult" style="overflow-y: scroll; height:400px;"></div>
              </div>
              <div class="card-footer">
                <small class="text-muted">Last updated 3 mins ago</small>
              </div>
            </div>
            <div class="card">
              <!-- <img src="..." class="card-img-top" alt="..."> -->
              <div class="card-body">
                <h5 class="card-title">Status numar accesari </h5>
                <!-- <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action.</p> -->
                <div class="row">
                  <div class="col-4 col-sm-4 col-md-4 col-lg-4">
                    <div class="card text-center">
                      <div class="card-header text-center border-bottom-0 bg-transparent text pt-4">
                        <h5>1 - 5</h5>
                      </div>
                      <div class="card-body text-success ">
                        <h1>{{surveyAcces.m}}</h1>
                        <!-- <h5 class="text-muted"><small>Taxes per Month</small></h5> -->
                      </div>
                     
                      <div class="card-footer border-top-0">
                        <!-- <a href="#" class="text-muted text-uppercase">Create Account <i class="fas fa-arrow-right"></i></a> -->
                      </div>
                    </div>
                  </div>
                  <div class="col-4 col-sm-4 col-md-4 col-lg-4">
                    <div class="card text-center">
                      <div class="card-header text-center border-bottom-0 bg-transparent text pt-4">
                        <h5>5 - 10</h5>
                      </div>
                      <div class="card-body  text-warning">
                        <h1>{{surveyAcces.me}}</h1>
                        <!-- <h5 class="text-muted"><small>Taxes per Month</small></h5> -->
                      </div>
                     
                      <div class="card-footer border-top-0">
                        <!-- <a href="#" class="text-muted text-uppercase">Create Account <i class="fas fa-arrow-right"></i></a> -->
                      </div>
                    </div>
                  </div>
                  <div class="col-4 col-sm-4 col-md-4 col-lg-4">
                    <div class="card text-center">
                      <div class="card-header text-center border-bottom-0 bg-transparent text pt-4">
                        <h5> > 10</h5>
                      </div>
                      <div class="card-body text-danger">
                        <h1>{{surveyAcces.ma}}</h1>
                        <!-- <h5 class="text-muted"><small>Taxes per Month</small></h5> -->
                      </div>
                     
                      <div class="card-footer border-top-0">
                        <!-- <a href="#" class="text-muted text-uppercase">Create Account <i class="fas fa-arrow-right"></i></a> -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <small class="text-muted">Last updated 3 mins ago</small>
              </div>
            </div>
          </div>
  
        <h2>Survey List</h2>
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
              <tr>
                <!-- <th scope="col">#</th> -->
                <th scope="col">ID</th>
                <th scope="col">Survey name</th>
                <th scope="col">Survey Description</th>
                <th scope="col">Start Date</th>
                <th scope="col">Start End</th>
                <th scope="col">Created At</th>
                <th scope="col">Updated At</th>
                <th scope="col">Update By</th>
                <th scope="col">Status</th>
                <th scope="col">Actions</th>
          
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let country of countries$">
                <!-- <th scope="row">{{ i + 1 }}</th> -->
                <td>
                  <ngb-highlight [result]="country.id"></ngb-highlight>
                </td>
                <td>
                  <ngb-highlight [result]="country.survey_name"></ngb-highlight>
                </td>
                <td>
                  <ngb-highlight [result]="country.survey_desc "></ngb-highlight>
                </td>
                <td>
                  <ngb-highlight [result]="country.start_date "></ngb-highlight>
                </td>
                <td>
                  <ngb-highlight [result]="country.start_end "></ngb-highlight>
                </td>
                <td>
                  <ngb-highlight [result]="country.createdAt "></ngb-highlight>
                </td>
                <td>
                  <ngb-highlight [result]="country.updatedat"></ngb-highlight>
                </td>
                <td>
                  <ngb-highlight [result]="country.updatedBy"></ngb-highlight>
                </td>
                <td>
                  <!-- <ngb-highlight [result]="country.status "></ngb-highlight> -->
                  
                </td>
                <td>
                  <button class="btn btn-outline-success mr-2" (click)="generateData(country.id)">Statistics</button>
                  <button class="btn btn-outline-success mr-2" (click)="getConsumers(country.id)">Display Survey</button>
                 
                    <div class="col" [hidden]="!showConsumers">
                      <div ngbDropdown class="d-inline-block">
                        <button class="btn btn-outline-primary" id="dropdownBasic1" ngbDropdownToggle>Toggle dropdown</button>
                        <div ngbDropdownMenu aria-labelledby="dropdownBasic1" *ngFor="let consumer of consumers">
                          <button ngbDropdownItem (click)="goToSurvey(consumer)">{{consumer}}</button>
                          
                        </div>
                      </div>
                    </div>
                </td>         
          
              </tr>
            </tbody>
          </table>
        </div>
      </main>
    </div>
  </div>